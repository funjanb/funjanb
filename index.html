<!DOCTYPE html>
<html lang="ja">
  <head>
    <!-- åŸºæœ¬è¨­å®š -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- ã€é‡è¦ã€‘SEOå¯¾ç­–ï¼šæ¤œç´¢çµæœã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒˆãƒ« -->
    <title>ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼ | å…¨å›½ã®æ¿€ã‚¢ãƒ„é“ã®é§…ã‚’å‹•ç”»ã§ç´¹ä»‹</title>

    <!-- ã€é‡è¦ã€‘SEOå¯¾ç­–ï¼šæ¤œç´¢çµæœã®èª¬æ˜æ–‡ï¼ˆãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ -->
    <meta
      name="description"
      content="å…¨å›½ã®é¢ç™½ã„é“ã®é§…ã€æ¿€ã‚¢ãƒ„ãªé“ã®é§…ã‚’YouTubeå‹•ç”»ã§ç´¹ä»‹ï¼ã€Œãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼ã€ã§ã¯ã€æ—¥æœ¬åœ°å›³ã‚„ãƒ©ãƒ³ã‚¯åˆ¥ãƒªã‚¹ãƒˆã‹ã‚‰æ°—ã«ãªã‚‹é“ã®é§…ã‚’ç°¡å˜ã«æ¢ã›ã¾ã™ã€‚ãƒ‰ãƒ©ã‚¤ãƒ–ã‚„æ—…è¡Œã®å‚è€ƒã«ã€‚"
    />

    <!-- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆå‚è€ƒç¨‹åº¦ï¼‰ -->
    <meta
      name="keywords"
      content="é“ã®é§…, å‹•ç”», YouTube, ãƒ‰ãƒ©ã‚¤ãƒ–, æ—…è¡Œ, Bç´šã‚¹ãƒãƒƒãƒˆ, è»Šä¸­æ³Š, ã‚°ãƒ«ãƒ¡"
    />

    <!-- ã€é‡è¦ã€‘æ­£è¦URLã®è¨­å®šï¼ˆé‡è¤‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é˜²æ­¢ï¼‰ -->
    <link rel="canonical" href="https://funjanb.github.io/funjanb/" />

    <!-- SNSã‚·ã‚§ã‚¢ç”¨è¨­å®š (OGP) -->
    <meta
      property="og:title"
      content="ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼ | å…¨å›½ã®æ¿€ã‚¢ãƒ„é“ã®é§…ã‚’å‹•ç”»ã§ç´¹ä»‹"
    />
    <meta
      property="og:description"
      content="å…¨å›½ã®é¢ç™½ã„é“ã®é§…ã‚’å‹•ç”»ã§ãƒã‚§ãƒƒã‚¯ï¼ãƒãƒƒãƒ—ã‚„ãƒ©ãƒ³ã‚¯ã‹ã‚‰æ¢ã›ã‚‹é“ã®é§…ç´¹ä»‹ã‚µã‚¤ãƒˆã€‚"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://funjanb.github.io/funjanb/" />
    <!-- ã‚µã‚¤ãƒˆã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒã‚ã‚Œã°ã€ä»¥ä¸‹ã®contentã«ç”»åƒURLã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼ˆä¾‹: https://.../ogp.jpgï¼‰ -->
    <meta
      property="og:image"
      content="https://funjanb.github.io/funjanb/assets/ogp-image.jpg"
    />
    <meta property="og:site_name" content="ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼" />
    <meta property="og:locale" content="ja_JP" />

    <!-- Twitterç”¨è¨­å®š -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼" />
    <meta
      name="twitter:description"
      content="å…¨å›½ã®æ¿€ã‚¢ãƒ„é“ã®é§…ã‚’å‹•ç”»ã§ç´¹ä»‹ï¼"
    />

    <!-- ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¿ãƒ–ç”¨ã‚¢ã‚¤ã‚³ãƒ³ï¼‰è¨­å®š -->
    <!-- ãŠæŒã¡ã®ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒãŒã‚ã‚Œã°è¨­å®šã—ã¦ãã ã•ã„ -->
    <!-- <link rel="icon" href="/favicon.ico" /> -->

    <!-- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»æ©Ÿèƒ½ã®èª­ã¿è¾¼ã¿ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Yusei+Magic&family=Zen+Maru+Gothic:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆGoogleã«ã‚µã‚¤ãƒˆæƒ…å ±ã‚’æ­£ã—ãä¼ãˆã‚‹ãŸã‚ã®JSON-LDï¼‰ -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼",
        "url": "https://funjanb.github.io/funjanb/",
        "description": "å…¨å›½ã®æ¿€ã‚¢ãƒ„é“ã®é§…ã‚’å‹•ç”»ã§ç´¹ä»‹ã™ã‚‹ã‚µã‚¤ãƒˆ",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://funjanb.github.io/funjanb/?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>

    <style>
      /* ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã¨åŸºæœ¬è¨­å®š */
      body {
        font-family: "Zen Maru Gothic", sans-serif;
        background-color: #fffbeb; /* è–„ã„é»„è‰² */
        background-image: radial-gradient(#fcd34d 20%, transparent 20%),
          radial-gradient(#fcd34d 20%, transparent 20%);
        background-size: 20px 20px;
        background-position: 0 0, 10px 10px;
        color: #4b5563;
        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        scrollbar-width: thin;
        scrollbar-color: #f59e0b #fffbeb;
      }

      h1 {
        font-family: "Yusei Magic", sans-serif;
        text-shadow: 3px 3px 0px #f59e0b;
      }

      /* ãƒãƒƒãƒ—ã®è¦ªã‚³ãƒ³ãƒ†ãƒŠï¼ˆå›ºå®šæ ï¼‰ */
      .map-wrapper {
        position: relative;
        width: 100%;
        max-width: 800px;
        /* é«˜ã•ã‚’autoã«ã—ã€ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã§ç®¡ç† */
        height: auto;
        aspect-ratio: 1000 / 1000;
        margin: 0 auto;
        background-color: rgba(255, 255, 255, 0.6);
        border: 4px dashed #fcd34d;
        border-radius: 20px;
        overflow: hidden; /* æ å¤–ã¯éš ã™ */
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
      }

      /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ãªé ˜åŸŸ */
      .map-scroll-area {
        width: 100%;
        height: 100%;
        overflow: auto; /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤§ãã„å ´åˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
        -webkit-overflow-scrolling: touch;

        /* ä¿®æ­£: å¼·åˆ¶çš„ãªä¸­å¤®å¯„ã›(justify-content/align-items)ã‚’å‰Šé™¤ */
        /* ã“ã‚Œã«ã‚ˆã‚Šã€æ‹¡å¤§ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¦ªã‚’è¶…ãˆãŸå ´åˆã«ã€å·¦ä¸Šç«¯ãŒè¦‹åˆ‡ã‚Œã‚‹å•é¡Œã‚’è§£æ¶ˆ */
        display: flex;
      }

      /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¦ªã‚ˆã‚Šå¤§ãããªã£ãŸå ´åˆã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½™ç™½æŒ™å‹•è£œæ­£ */
      .map-scroll-area::after {
        content: "";
        display: block;
        flex: 0 0 auto;
      }

      /* å®Ÿéš›ã«æ‹¡å¤§ç¸®å°ã•ã‚Œã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
      .map-content {
        position: relative;
        width: 100%;
        height: auto;
        aspect-ratio: 1000 / 800;
        transition: width 0.3s ease;
        transform-origin: center center;

        /* margin: auto ã«ã‚ˆã‚Šã€è¦ªã‚ˆã‚Šå°ã•ã„æ™‚ã¯ä¸­å¤®é…ç½®ã€å¤§ãã„æ™‚ã¯é€šå¸¸é…ç½®ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯ï¼‰ã«ãªã‚‹ */
        margin: auto;
        flex-shrink: 0; /* è¦ªãŒå°ã•ãã¦ã‚‚ç¸®ã¾ãªã„ã‚ˆã†ã«ã™ã‚‹ */
      }

      /* æ—¥æœ¬åœ°å›³ã®SVGã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
      .japan-map {
        width: 100%;
        height: 100%;
        overflow: visible;
        filter: drop-shadow(5px 5px 0px rgba(0, 0, 0, 0.1));
      }

      /* å…±é€šã®ãƒ‘ã‚¹ã‚¹ã‚¿ã‚¤ãƒ« */
      .island {
        fill: #ffffff;
        stroke-width: 10;
        stroke-linecap: round;
        stroke-linejoin: round;
        transition: all 0.3s ease;
        cursor: grab;
      }
      .island:hover {
        fill: #fffaea;
      }

      /* å„ã‚¨ãƒªã‚¢ã®è‰²åˆ†ã‘ */
      .island-hokkaido {
        stroke: #f97316;
      }
      .island-honshu {
        stroke: #2dd4bf;
      }
      .island-shikoku {
        stroke: #3b82f6;
      }
      .island-kyushu {
        stroke: #d946ef;
      }
      .island-okinawa {
        stroke: #facc15;
      }

      /* ãƒ”ãƒ³ã®ãƒ©ãƒƒãƒ‘ãƒ¼ */
      .pin-wrapper {
        position: absolute;
        transform: translate(-50%, -100%);
        cursor: pointer;
        z-index: 10;
        width: 0;
        height: 0;
      }
      .pin-wrapper:hover {
        z-index: 100;
      }

      /* ãƒ”ãƒ³ã‚¢ã‚¤ã‚³ãƒ³ */
      .pin {
        font-size: 2.5rem;
        color: #ef4444;
        filter: drop-shadow(2px 2px 0px rgba(0, 0, 0, 0.2));
        position: absolute;
        left: -12px;
        bottom: 0;
        transition: color 0.2s;
      }
      .pin:hover {
        color: #dc2626;
      }

      .pin-label {
        background: white;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 0.9rem;
        font-weight: bold;
        white-space: nowrap;
        border: 3px solid #ef4444;
        box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.1);
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
        z-index: 25;
        color: #333;
      }
      .pin-wrapper:hover .pin-label {
        opacity: 1;
      }

      /* ã‚ºãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« */
      .zoom-controls {
        position: absolute;
        bottom: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        z-index: 50;
      }
      .zoom-btn {
        width: 50px;
        height: 50px;
        background-color: white;
        border: 3px solid #f59e0b;
        border-radius: 50%;
        color: #f59e0b;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.1);
        transition: all 0.1s;
      }
      .zoom-btn:active {
        transform: translate(2px, 2px);
        box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.1);
      }
      .zoom-level {
        background: rgba(255, 255, 255, 0.9);
        padding: 2px 8px;
        border-radius: 10px;
        font-size: 0.8rem;
        text-align: center;
        font-weight: bold;
        color: #555;
      }

      /* ã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
      .station-card {
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .station-card:hover {
        transform: translateY(-5px);
        box-shadow: 5px 5px 0px #f59e0b;
      }

      /* ãƒ©ãƒ³ã‚¯ãƒãƒƒã‚¸ */
      .rank-badge {
        position: absolute;
        top: -10px;
        left: -10px;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: "Yusei Magic", sans-serif;
        font-size: 1.5rem;
        font-weight: bold;
        color: white;
        border-radius: 50%;
        box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.2);
        transform: rotate(-15deg);
        z-index: 10;
      }
      .rank-s {
        background: linear-gradient(135deg, #ffd700, #fbbf24);
        border: 3px solid #fff;
        text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.2);
      }
      .rank-a {
        background: linear-gradient(135deg, #f472b6, #ec4899);
        border: 3px solid #fff;
      }
      .rank-b {
        background: linear-gradient(135deg, #60a5fa, #3b82f6);
        border: 3px solid #fff;
      }
      .rank-e {
        background: linear-gradient(135deg, #10b981, #059669);
        border: 3px solid #fff;
      }
      .rank-other {
        background: linear-gradient(135deg, #9ca3af, #6b7280);
        border: 3px solid #fff;
      }

      /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼UI */
      select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
        -webkit-appearance: none;
        appearance: none;
      }
    </style>
  </head>
  <body class="min-h-screen pb-10">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¨ãƒªã‚¢ -->
    <header
      class="bg-yellow-400 border-b-4 border-yellow-600 py-3 md:py-6 text-center sticky top-0 z-50 shadow-lg"
    >
      <div class="container mx-auto px-4">
        <h1
          class="text-lg md:text-5xl text-white tracking-wider transform -rotate-1 inline-block whitespace-nowrap"
        >
          <i class="fas fa-car-side mr-2"></i>ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼
        </h1>
        <p
          class="text-yellow-800 mt-1 md:mt-2 font-bold text-[10px] md:text-base bg-yellow-200 inline-block px-4 py-1 rounded-full whitespace-nowrap"
        >
          å…¨å›½ã®æ¿€ã‚¢ãƒ„é“ã®é§…ã‚’ã‚¿ãƒƒãƒ—ã—ã¦å‹•ç”»ã‚’ãƒã‚§ãƒƒã‚¯ï¼
        </p>
      </div>
    </header>

    <main class="container mx-auto px-4 mt-8">
      <!-- åœ°å›³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <section class="mb-16">
        <h2
          class="text-2xl font-bold text-center mb-6 text-emerald-600 bg-white inline-block px-6 py-2 rounded-full border-2 border-emerald-500 mx-auto block shadow-md"
        >
          <i class="fas fa-map-marked-alt mr-2"></i>æ—¥æœ¬åœ°å›³ã‹ã‚‰æ¢ã™
        </h2>

        <div class="map-wrapper">
          <!-- ã‚ºãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
          <div class="zoom-controls">
            <div class="zoom-level" id="zoom-level-text">x1.00</div>
            <button
              class="zoom-btn"
              onclick="zoomIn()"
              title="æ‹¡å¤§"
              aria-label="åœ°å›³ã‚’æ‹¡å¤§"
            >
              <i class="fas fa-plus"></i>
            </button>
            <button
              class="zoom-btn"
              onclick="zoomOut()"
              title="ç¸®å°"
              aria-label="åœ°å›³ã‚’ç¸®å°"
            >
              <i class="fas fa-minus"></i>
            </button>
            <button
              class="zoom-btn"
              onclick="zoomReset()"
              title="ãƒªã‚»ãƒƒãƒˆ"
              aria-label="åœ°å›³ã®ã‚ºãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ"
              style="font-size: 1rem; color: #666; border-color: #999"
            >
              <i class="fas fa-compress"></i>
            </button>
          </div>

          <!-- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸ -->
          <div class="map-scroll-area" id="scroll-area">
            <!-- æ‹¡å¤§ç¸®å°å¯¾è±¡ -->
            <div class="map-content" id="map-content">
              <!-- æ—¥æœ¬åœ°å›³SVG -->
              <svg
                class="japan-map"
                viewBox="0 0 1000 800"
                xmlns="http://www.w3.org/2000/svg"
                aria-label="æ—¥æœ¬åœ°å›³"
                role="img"
              >
                <title>æ—¥æœ¬åœ°å›³ã‚¯ãƒªãƒƒã‚«ãƒ–ãƒ«ãƒãƒƒãƒ—</title>
                <!-- åŒ—æµ·é“ -->
                <path
                  class="island island-hokkaido"
                  d="M720,50 L820,40 L930,120 L880,220 L750,200 L700,120 Z"
                  aria-label="åŒ—æµ·é“ã‚¨ãƒªã‚¢"
                />

                <!-- æœ¬å· -->
                <path
                  class="island island-honshu"
                  d="M680,250 L820,250 L790,540 L640,690 L550,660 L530,620 L300,600 L280,520 L350,480 L450,450 L580,400 L650,280 Z"
                  aria-label="æœ¬å·ã‚¨ãƒªã‚¢"
                />

                <!-- å››å›½ -->
                <path
                  class="island island-shikoku"
                  d="M300,650 L460,650 L450,750 L290,750 Z"
                  aria-label="å››å›½ã‚¨ãƒªã‚¢"
                />

                <!-- ä¹å· -->
                <path
                  class="island island-kyushu"
                  d="M100,550 L250,550 L240,750 L80,720 Z"
                  aria-label="ä¹å·ã‚¨ãƒªã‚¢"
                />

                <!-- æ²–ç¸„ -->
                <path
                  class="island island-okinawa"
                  d="M40,760 L80,760 L80,800 L40,800 Z"
                  aria-label="æ²–ç¸„ã‚¨ãƒªã‚¢"
                />
              </svg>

              <!-- ãƒ”ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
              <div id="map-pins-container"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- ãƒªã‚¹ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <section>
        <h2
          class="text-2xl font-bold text-center mb-6 text-orange-600 bg-white inline-block px-6 py-2 rounded-full border-2 border-orange-500 mx-auto block shadow-md"
        >
          <i class="fas fa-list-ul mr-2"></i>é“ã®é§…ãƒªã‚¹ãƒˆã‹ã‚‰æ¢ã™
        </h2>

        <!-- çµã‚Šè¾¼ã¿æ©Ÿèƒ½ -->
        <div
          class="bg-white p-6 rounded-2xl border-4 border-yellow-200 shadow-lg max-w-4xl mx-auto mb-8"
        >
          <div
            class="flex flex-col md:flex-row justify-center items-center gap-4"
          >
            <!-- ãƒ©ãƒ³ã‚¯çµã‚Šè¾¼ã¿ -->
            <div class="w-full md:w-auto">
              <label
                for="rank-filter"
                class="block text-xs font-bold text-gray-500 mb-1 ml-2"
                >ãƒ©ãƒ³ã‚¯ã§çµã‚Šè¾¼ã¿</label
              >
              <div class="relative">
                <select
                  id="rank-filter"
                  onchange="applyFilters()"
                  class="w-full md:w-48 bg-gray-50 border-2 border-gray-300 text-gray-800 text-lg font-bold rounded-full focus:ring-yellow-500 focus:border-yellow-500 block px-4 py-2 shadow-sm cursor-pointer"
                >
                  <option value="">å…¨ã¦è¡¨ç¤º</option>
                  <option value="S">ãƒ©ãƒ³ã‚¯ S</option>
                  <option value="A">ãƒ©ãƒ³ã‚¯ A</option>
                  <option value="E">ãƒ©ãƒ³ã‚¯ E</option>
                  <option value="B">ãƒ©ãƒ³ã‚¯ B</option>
                </select>
              </div>
            </div>

            <!-- çœŒåçµã‚Šè¾¼ã¿ -->
            <div class="w-full md:w-auto">
              <label
                for="pref-filter"
                class="block text-xs font-bold text-gray-500 mb-1 ml-2"
                >çœŒåã§çµã‚Šè¾¼ã¿</label
              >
              <div class="relative">
                <select
                  id="pref-filter"
                  onchange="applyFilters()"
                  class="w-full md:w-48 bg-gray-50 border-2 border-gray-300 text-gray-800 text-lg font-bold rounded-full focus:ring-yellow-500 focus:border-yellow-500 block px-4 py-2 shadow-sm cursor-pointer"
                >
                  <option value="">å…¨ã¦è¡¨ç¤º</option>
                  <!-- JSã§é¸æŠè‚¢ç”Ÿæˆ -->
                </select>
              </div>
            </div>

            <!-- ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ -->
            <div class="w-full md:w-auto flex items-end">
              <button
                onclick="resetFilters()"
                class="w-full md:w-auto mt-5 md:mt-0 bg-gray-400 hover:bg-gray-500 text-white font-bold py-2.5 px-6 rounded-full shadow-md transition-colors flex items-center justify-center"
              >
                <i class="fas fa-undo mr-2"></i>ã‚¯ãƒªã‚¢
              </button>
            </div>
          </div>
          <p
            id="filter-count"
            class="text-center text-sm text-gray-500 mt-3 font-bold"
          ></p>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto"
          id="station-list"
        >
          <!-- ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã¯JSã§å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
        </div>
      </section>
    </main>

    <footer
      class="mt-20 py-8 bg-gray-800 text-white text-center border-t-4 border-gray-600"
    >
      <p class="text-xl font-bold mb-2">ãµã‚“ã˜ã‚ƒã‚“ã®ï¼¢ç´šã§ã„ã“ã†ãœï¼</p>
      <p class="text-sm text-gray-400">
        &copy; 2024 Funjan Road Station Project.
      </p>
    </footer>

    <script>
      // ãƒ‡ãƒ¼ã‚¿å®šç¾©
      let stationsData = [
        {
          id: 1,
          rank: "A",
          name: "ã™ã•ã¿ç”º(å’Œæ­Œå±±çœŒ)",
          prefecture: "å’Œæ­Œå±±çœŒ",
          address: "å’Œæ­Œå±±çœŒè¥¿ç‰Ÿå©éƒ¡ã™ã•ã¿ç”ºæ±Ÿä½ï¼˜ï¼ï¼˜âˆ’ï¼‘",
          url: "https://www.youtube.com/watch?v=nhKyinmYK6k",
          mapTop: "78%", // ç´€ä¼ŠåŠå³¶å…ˆç«¯ä»˜è¿‘
          mapLeft: "55%",
          color: "bg-orange-100 border-orange-300",
        },
        {
          id: 2,
          rank: "S",
          name: "è¶Šå‰ç”º(ç¦äº•çœŒ)",
          prefecture: "ç¦äº•çœŒ",
          address: "ç¦äº•çœŒä¸¹ç”Ÿéƒ¡è¶Šå‰ç”ºå¨ï¼—ï¼‘âˆ’ï¼“ï¼“ï¼•âˆ’ï¼‘",
          url: "https://www.youtube.com/watch?v=WMajkGinSXg",
          mapTop: "55%", // åŒ—é™¸
          mapLeft: "55%",
          color: "bg-blue-100 border-blue-300",
        },
        {
          id: 3,
          rank: "A",
          name: "é£¯é«˜é§…(ä¸‰é‡çœŒ)",
          prefecture: "ä¸‰é‡çœŒ",
          address: "ä¸‰é‡çœŒæ¾é˜ªå¸‚é£¯é«˜ç”ºå®®å‰ï¼‘ï¼—ï¼—",
          url: "https://www.youtube.com/watch?v=CmH0R1-PIjw",
          mapTop: "75%", // ç´€ä¼ŠåŠå³¶æ±éƒ¨
          mapLeft: "58%",
          color: "bg-green-100 border-green-300",
        },
        {
          id: 4,
          rank: "S",
          name: "ãƒãƒ«ãƒ¡ãƒ­ã®é§…ãªãŒã¨(é•·é‡çœŒ)",
          prefecture: "é•·é‡çœŒ",
          address: "é•·é‡çœŒå°çœŒéƒ¡é•·å’Œç”ºå¤ç”ºï¼’ï¼–ï¼”ï¼“âˆ’ï¼“",
          url: "https://www.youtube.com/watch?v=LrD97sLTDe4",
          mapTop: "48%", // ä¸­éƒ¨å†…é™¸
          mapLeft: "65%",
          color: "bg-purple-100 border-purple-300",
        },
        {
          id: 5,
          rank: "A",
          name: "ä¸–ç¾…ç”º(åºƒå³¶çœŒ)",
          prefecture: "åºƒå³¶çœŒ",
          address: "åºƒå³¶çœŒä¸–ç¾…éƒ¡ä¸–ç¾…ç”ºå·å°»2402-1",
          url: "https://www.youtube.com/watch?v=QPMJFcp5f9I",
          mapTop: "60%", // ä¸­å›½åœ°æ–¹
          mapLeft: "35%",
          color: "bg-red-100 border-red-300",
        },
        {
          id: 6,
          rank: "A",
          name: "ã‚ªã‚¢ã‚·ã‚¹ãŠã¶ã›(é•·é‡çœŒ)",
          prefecture: "é•·é‡çœŒ",
          address: "é•·é‡çœŒä¸Šé«˜äº•éƒ¡å°å¸ƒæ–½ç”ºå¤§å³¶601",
          url: "https://www.youtube.com/watch?v=FHDszx1XFWg",
          mapTop: "42%", // é•·é‡åŒ—éƒ¨
          mapLeft: "65%",
          color: "bg-indigo-100 border-indigo-300",
        },
        {
          id: 7,
          rank: "E",
          name: "ãƒ•ãƒ«ãƒ¼ãƒ„ãƒ»ãƒ•ãƒ©ãƒ¯ãƒ¼ãƒ‘ãƒ¼ã‚¯å¤§æ²¢(å…µåº«çœŒ)",
          prefecture: "å…µåº«çœŒ",
          address: "å…µåº«çœŒç¥æˆ¸å¸‚åŒ—åŒºå¤§æ²¢ç”ºä¸Šå¤§æ²¢2150",
          url: "https://www.youtube.com/watch?v=abWYDoZnNLQ",
          mapTop: "70%", // å…µåº«å—éƒ¨
          mapLeft: "48%",
          color: "bg-pink-100 border-pink-300",
        },
        {
          id: 8,
          rank: "A",
          name: "ãŸã‹ã‚‰ã ã®é‡Œã•ã„ãŸ(é¦™å·çœŒ)",
          prefecture: "é¦™å·çœŒ",
          address: "é¦™å·çœŒä¸‰è±Šå¸‚è²¡ç”°ç”ºè²¡ç”°ä¸Š180-6",
          url: "https://www.youtube.com/watch?v=vKnb0xCaC0Y",
          mapTop: "82%", // å››å›½
          mapLeft: "35%",
          color: "bg-yellow-100 border-yellow-300",
        },
        {
          id: 9,
          rank: "A",
          name: "ä¸‰æ–¹äº”æ¹–(ç¦äº•çœŒ)",
          prefecture: "ç¦äº•çœŒ",
          address: "ç¦äº•çœŒä¸‰æ–¹ä¸Šä¸­éƒ¡è‹¥ç‹­ç”ºé³¥æµœ122-31-1",
          url: "https://www.youtube.com/watch?v=FNvIOAGG0ug",
          mapTop: "53%", // ç¦äº•è¥¿éƒ¨
          mapLeft: "53%",
          color: "bg-cyan-100 border-cyan-300",
        },
        {
          id: 10,
          rank: "A",
          name: "ãµã‚Œã‚ã„ãƒ‘ãƒ¼ã‚¯ã¿ã®(é¦™å·çœŒ)",
          prefecture: "é¦™å·çœŒ",
          address: "é¦™å·çœŒä¸‰è±Šå¸‚ä¸‰é‡ç”ºå¤§è¦‹ä¹™74",
          url: "https://www.youtube.com/watch?v=kCo0b7O9XQc",
          mapTop: "82%", // å››å›½
          mapLeft: "40%",
          color: "bg-teal-100 border-teal-300",
        },
      ];

      // --- ã‚ºãƒ¼ãƒ æ©Ÿèƒ½ã®å®Ÿè£… ---
      let currentZoom = 1.0;
      const zoomStep = 0.25;
      const maxZoom = 3.0;
      const minZoom = 1.0;
      const mapContent = document.getElementById("map-content");
      const zoomLevelText = document.getElementById("zoom-level-text");
      const scrollArea = document.getElementById("scroll-area");

      function updateZoom() {
        // å¹…ã‚’ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆã§è¨­å®š
        const newWidthPercent = currentZoom * 100;

        mapContent.style.width = `${newWidthPercent}%`;

        // ã‚ºãƒ¼ãƒ è¡¨ç¤ºã®æ›´æ–°
        zoomLevelText.textContent = `x${currentZoom.toFixed(2)}`;
      }

      function zoomIn() {
        if (currentZoom < maxZoom) {
          currentZoom += zoomStep;
          currentZoom = Math.round(currentZoom * 100) / 100;
          updateZoom();
        }
      }

      function zoomOut() {
        if (currentZoom > minZoom) {
          currentZoom -= zoomStep;
          currentZoom = Math.round(currentZoom * 100) / 100;
          updateZoom();
        }
      }

      function zoomReset() {
        currentZoom = 1.0;
        updateZoom();
        scrollArea.scrollTop = 0;
        scrollArea.scrollLeft = 0;
      }

      // --- ä»¥ä¸‹ã€æ—¢å­˜ã®ãƒ­ã‚¸ãƒƒã‚¯ ---

      const listContainer = document.getElementById("station-list");
      const mapPinsContainer = document.getElementById("map-pins-container");
      const rankFilterSelect = document.getElementById("rank-filter");
      const prefFilterSelect = document.getElementById("pref-filter");
      const filterCountLabel = document.getElementById("filter-count");

      function initPrefectureFilter() {
        const prefs = [
          ...new Set(
            stationsData.filter((s) => s.prefecture).map((s) => s.prefecture)
          ),
        ].sort((a, b) => a.localeCompare(b, "ja"));
        prefs.forEach((pref) => {
          const option = document.createElement("option");
          option.value = pref;
          option.textContent = pref;
          prefFilterSelect.appendChild(option);
        });
      }

      function getRankClass(rank) {
        switch (rank.toUpperCase()) {
          case "S":
            return "rank-s";
          case "A":
            return "rank-a";
          case "B":
            return "rank-b";
          case "E":
            return "rank-e";
          default:
            return "rank-other";
        }
      }

      function renderMapPins(data) {
        mapPinsContainer.innerHTML = "";
        data.forEach((station, index) => {
          if (
            station.name &&
            station.url &&
            station.mapTop &&
            station.mapLeft
          ) {
            const pinLink = document.createElement("a");
            pinLink.href = station.url;
            pinLink.target = "_blank";
            pinLink.className = "pin-wrapper";
            pinLink.style.top = station.mapTop;
            pinLink.style.left = station.mapLeft;

            // ä½ç½®åˆã‚ã›ã®ã¿è¡Œã†
            pinLink.style.transform = `translate(-50%, -100%)`;

            pinLink.innerHTML = `
                        <div class="pin-label text-xs">No.${station.id} ${station.name}</div>
                        <i class="fas fa-map-marker-alt pin"></i>
                    `;
            mapPinsContainer.appendChild(pinLink);
          }
        });
      }

      function renderStationList(data) {
        listContainer.innerHTML = "";
        if (data.length === 0) {
          listContainer.innerHTML =
            '<div class="col-span-full text-center text-gray-500 py-10 font-bold">æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹é“ã®é§…ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ...</div>';
          return;
        }

        data.forEach((station) => {
          if (station.name && station.url) {
            const rankClass = getRankClass(station.rank);
            const card = document.createElement("a");
            card.href = station.url;
            card.target = "_blank";
            card.className = `station-card block p-6 pt-8 rounded-xl border-4 ${
              station.color || "bg-gray-100 border-gray-300"
            } bg-white relative overflow-visible group`;

            card.innerHTML = `
                        <div class="rank-badge ${rankClass}">
                            ${station.rank}
                        </div>
                        <div class="absolute top-0 right-0 bg-gray-200 text-gray-600 font-bold px-3 py-1 rounded-bl-lg text-xs">
                            No.${station.id}
                        </div>
                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-2xl">
                                ğŸš—
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors leading-tight">
                                    ${station.name}
                                </h3>
                                <p class="text-sm text-gray-600 mb-2">
                                    <i class="fas fa-map-marker-alt mr-1 text-red-400"></i>
                                    ${station.address}
                                </p>
                                <span class="inline-flex items-center text-white bg-red-600 px-3 py-1 rounded-full text-sm font-bold shadow-sm group-hover:bg-red-700 transition-colors">
                                    <i class="fab fa-youtube mr-1"></i> å‹•ç”»ã‚’è¦‹ã‚‹
                                </span>
                            </div>
                        </div>
                    `;
            listContainer.appendChild(card);
          }
        });
      }

      function applyFilters() {
        const rankValue = rankFilterSelect.value;
        const prefValue = prefFilterSelect.value;

        const filteredData = stationsData.filter((station) => {
          if (!station.name) return false;
          const matchRank = rankValue === "" || station.rank === rankValue;
          const matchPref =
            prefValue === "" || station.prefecture === prefValue;
          return matchRank && matchPref;
        });

        filterCountLabel.textContent = `${filteredData.length}ä»¶ è¡¨ç¤ºä¸­`;
        renderStationList(filteredData);
        renderMapPins(filteredData);
      }

      function resetFilters() {
        rankFilterSelect.value = "";
        prefFilterSelect.value = "";
        applyFilters();
      }

      // åˆæœŸåŒ–å‡¦ç†
      initPrefectureFilter();
      applyFilters();
    </script>
  </body>
</html>
